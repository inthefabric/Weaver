using Weaver.Core.Exceptions;
using Weaver.Core.Path;

namespace Weaver.Core.Items {

	/*================================================================================================*/
	public abstract class WeaverItem : IWeaverItem {
		

		////////////////////////////////////////////////////////////////////////////////////////////////
		/*--------------------------------------------------------------------------------------------*/
		public virtual IWeaverPath Path { get; set; }

		/*--------------------------------------------------------------------------------------------*/
		public virtual int PathIndex {
			get {
				if ( Path == null ) {
					throw new WeaverException("Path is null for "+this+".");
				}

				return Path.IndexOfItem(this);
			}
		}


		////////////////////////////////////////////////////////////////////////////////////////////////
		/*--------------------------------------------------------------------------------------------*/
		public virtual string ItemIdentifier { get { return GetType().Name+""; } }

		/*--------------------------------------------------------------------------------------------*/
		public bool SkipDotPrefix { get; protected set; }


		////////////////////////////////////////////////////////////////////////////////////////////////
		/*--------------------------------------------------------------------------------------------*/
		public abstract string BuildParameterizedString();

	}

}